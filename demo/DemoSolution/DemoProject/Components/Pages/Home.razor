@page "/"

<PageTitle>Home</PageTitle>

<h1>Snacks</h1>

<EditForm Model="NewSnack" OnValidSubmit="AddSnack" FormName="AddSnackForm" Enhance>
    <DataAnnotationsValidator />
    @* <FluentValidationValidator /> *@
    
    @* <input name="NewSnack.Name"> *@
    <InputText @bind-Value="NewSnack.Name" />
    <ValidationMessage For="() => NewSnack.Name" />
    
    <InputNumber @bind-Value="NewSnack.Rating" type="range" min="1" max="5" step="0.5" />
    <ValidationMessage For="() => NewSnack.Rating" />
    
    <InputText @bind-Value="NewSnack.PhotoUrl" />
    <ValidationMessage For="() => NewSnack.PhotoUrl" />
    
    <button>Add snack</button>
</EditForm>

@if (Snacks is null)
{
    <text>Geen snacks vandaag.</text>
    <p>Echt geen snacks</p>
}
else
{
    <table>
        <thead>
        <tr>
            <th>ID</th>
            <th>Naam</th>
            <th>Rating</th>
            <th>Foto</th>
        </tr>
        </thead>
        <tbody>
        @foreach (var snack in Snacks)
        {
            <tr class="@(snack.Rating > 3m ? "heerlijk" : "")">
                <td>@snack.Id</td>
                <td>@snack.Name</td>
                <td>@snack.Rating</td>
                <td><img src="@snack.PhotoUrl"></td>
            </tr>
        }
        </tbody>
    </table>
}
